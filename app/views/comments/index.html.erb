<%= render 'shared/page_title', page_title: @spot.name + "の全てのコメント" %>
<div class="container">
  <div class="row" data-turbolinks="false">
    <div class="col">
      <div class="font18-26 font-m-700 py-2 py-md-3"><i class="fa-regular fa-comment"></i>&nbsp;全てのコメント</div>
      <div class="d-flex mb-3">
        <div>
          <% if @spot.images.attached? %>
            <%= image_tag @spot.images.first.variant(resize: "800x600", gravity: "center", crop: "700x520+0+0", quality: 80).processed, class: "max100" %>
          <% else %>
            <%= image_tag asset_path('sample.jpg'), class: "card-img-top spot-thumb", alt: "Spot photo" %>
          <% end%>
        </div>
        <div class="d-flex align-items-center ms-3 width68">
          <span class="font18-26 nowrap"><%= @spot.name %></span>
        </div>
      </div>
      <% if @comments.present? %>
        <% @comments.each do |comment| %>
          <div class="col border rounded-3 mb-3 px-3 py-1">
            <span class="font14"><%= comment.user.nickname %>さんのコメント</span>
            <div class="font14-16"><%= simple_format(comment.content, class: "my-1") %></div>
            <span class="font14">コメント日時: <%= l comment.created_at %></span>
          </div>
        <% end %>
      <% else %>
        <div class="col border my-3 p-2">
          <span class="font14">まだコメントが投稿されていません</span>
        </div>
      <% end %>
      <%= link_to "戻る", spot_path(@spot), class: "d-block mb-3 ms-1 text-black" %>
    </div>
  </div>
</div>
